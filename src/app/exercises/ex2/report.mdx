# CMPUT 412/503 - Exercise 2 Report

## Abdullah Khadeli and Ryan Rom

### Part I: Getting comfortable with ROS

- **Node**: An executable file within a ROS package. Each node should be built to perform specific tasks like controlling sensors or motors, and communicating with other nodes by publishing and subscribing to topics.

- **Topic**: Topics are a way to exchange messages between nodes by using a pubsub model. Publishers send messages to topics, while subscribers receive them, allowing for decoupled communication.

- **Service**: A request/reply interaction mechanism between nodes. Unlike topics' continuous data flow, services are for operations needing specific responses, like querying sensor states.

- **Message**: Typed data structures for node communication. They support primitive types and nested structures, enabling both simple and complex data exchange.

- **Bag**: A format for recording and replaying ROS message data. Essential for storing sensor data and debugging by allowing experiment playback and analysis.

#### Communication Workflow

The typical workflow for setting up node communication involves:

1. Defining message/service structures
2. Developing nodes with appropriate publishers/subscribers
3. Organizing with clear naming conventions
4. Running the ROS Master for node discovery
5. Launching nodes with proper configurations
6. Monitoring communication using ROS tools

- Add a screenshot of your first publisher and subscriber nodes in action.

- Include a screenshot of the annotated image using rqt_image_view.

### Part II: Odometry using wheel encoders

#### Straight line task

- Why is there a difference between the actual and desired location?

Most of the time the bot stops near exact distance (1.25m) but sometimes it goes way over it. 
We suspect one reason for this is because of lag. 
A discrepancy of the connection between the messages that the publisher is sending to the robot. 
The robot gets the shutdown signal late which includes WheelsCMDStamped(vel_left=0, vel_right=0).

Another reason is the rate of messages publishing. 
We observed that when the rate of message publishing is too low (E.g. 3 messages per second) it is more likely to overshoot. 
This is because the interval of message sending is large which allows for larger error.

- What speed did you use?


- What happens when you increase or decrease the speed?

Increasing the speed leads to more accurate results in our case. 
This is likely because the mat used for the robot has been tampered a lot over 2 weeks as other students use it for their testing and a lot of accidental stepping on mat has happened.
Decreasing the speed leads to less accurate results like for the same reason expressed previously.

#### Rotation task

- Did you observe any deviations in the rotation?
- If deviations exist, what could be the cause?

- Does your program exit properly after you nish all the above tasks? Is it still running
  even if you shut down the program? If this is the case, think about how to resolve this
  issue

- Plot of the rosbag results

### Part III: Playing with Duckiebots

- Clearly document the mapping of states to LED colors in your report
- Include plot of the rosbag results
- Print the total execution time for the task and add it in the report.
- Is your duckiebot able to track what you planned according to your plan? If not,
  then why?

